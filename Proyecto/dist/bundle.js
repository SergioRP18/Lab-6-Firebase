(()=>{"use strict";var e,t,n={249:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.song=void 0;var r=n(966);Object.defineProperty(t,"song",{enumerable:!0,get:function(){return o(r).default}})},966:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0,function(e){e.uid="uid",e.image="image",e.name="name",e.author="author",e.album="album",e.dateAdded="dateAdded",e.duration="duration"}(n||(t.Attribute=n={}));class o extends HTMLElement{static get observedAttributes(){return Object.keys(n)}attributeChangedCallback(e,t,o){switch(e){case n.uid:this.uid=o?Number(o):void 0;break;case n.dateAdded:this.dateAdded=o?Number(o):void 0;break;case n.duration:this.duration=o?Number(o):void 0;break;default:this[e]=o}this.render()}constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`\n                <section>\n                    <div class="container">\n                        <img src= "${this.image}">\n                        <h1>${this.name}</h1>\n                        <h4>${this.author}</h4>\n                        <p>${this.album}</p>\n                        <span><b>${this.dateAdded}<b></span>\n                        <span>${this.duration}</span>\n                    </div>\n                </section>\n        `)}}customElements.define("app-song",o),t.default=o},752:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function d(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,d)}s((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),n(249),n(625);const r=n(293);class i extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){return o(this,void 0,void 0,(function*(){yield this.renderSongs(),yield this.renderForm()}))}renderSongs(){return o(this,void 0,void 0,(function*(){const e=yield(0,r.getSongs)();this.shadowRoot.innerHTML="",yield this.renderForm(),e.forEach((e=>{var t;const n=this.ownerDocument.createElement("app-song");n.setAttribute("image",e.image),n.setAttribute("name",e.title),n.setAttribute("author",e.author),n.setAttribute("album",e.album),n.setAttribute("dateAdded",String(e.dateAdded)),n.setAttribute("duration",String(e.duration)),null===(t=this.shadowRoot)||void 0===t||t.appendChild(n)}))}))}renderForm(){return o(this,void 0,void 0,(function*(){var e,t;if(!(null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById("song-form"))){const e='\n                <form id="song-form">\n                    <input type="text" name="image" placeholder="Image URL" required>\n                    <input type="text" name="title" placeholder="Title" required>\n                    <input type="text" name="author" placeholder="Author" required>\n                    <input type="text" name="album" placeholder="Album" required>\n                    <label for="minutes">Minutes:</label>\n                    <input type="number" name="minutes" placeholder="Minutes" min="0" max="59" required>\n                    <button type="submit">Add Song</button>\n                </form>\n            ';this.shadowRoot.innerHTML+=e;const n=null===(t=this.shadowRoot)||void 0===t?void 0:t.getElementById("song-form");null==n||n.addEventListener("submit",this.handleAddSong.bind(this))}}))}handleAddSong(e){return o(this,void 0,void 0,(function*(){e.preventDefault();const t=e.target,n=60*(Number(t.elements.namedItem("minutes").value)||0),o={image:t.elements.namedItem("image").value,title:t.elements.namedItem("title").value,author:t.elements.namedItem("author").value,album:t.elements.namedItem("album").value,dateAdded:(new Date).toISOString(),duration:n};yield(0,r.addSong)(o),t.reset(),yield this.renderSongs()}))}}customElements.define("app-container",i)},625:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},293:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function d(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,d)}s((o=o.apply(e,t||[])).next())}))};let r;Object.defineProperty(t,"__esModule",{value:!0}),t.getSongs=t.addSong=void 0;const i=()=>o(void 0,void 0,void 0,(function*(){if(!r){const{getFirestore:e}=yield Promise.all([n.e(990),n.e(594)]).then(n.bind(n,594)),{initializeApp:t}=yield Promise.all([n.e(990),n.e(223)]).then(n.bind(n,223)),o=t({apiKey:"AIzaSyCXclD9r0rUmlKLVPdCtYzsj8bq4bjdR7w",authDomain:"lab-6-firebase-50b09.firebaseapp.com",projectId:"lab-6-firebase-50b09",storageBucket:"lab-6-firebase-50b09.appspot.com",messagingSenderId:"742744572770",appId:"1:742744572770:web:b4220017614c3abe06e23b"});r=e(o)}return r}));t.addSong=e=>o(void 0,void 0,void 0,(function*(){try{const t=yield i(),{collection:o,addDoc:r}=yield Promise.all([n.e(990),n.e(594)]).then(n.bind(n,594)),a=yield r(o(t,"songs"),e);console.log("Document written with ID:",a.id)}catch(e){console.error(e)}})),t.getSongs=()=>o(void 0,void 0,void 0,(function*(){const e=yield i(),{collection:t,getDocs:o}=yield Promise.all([n.e(990),n.e(594)]).then(n.bind(n,594)),r=yield o(t(e,"songs")),a=[];return r.forEach((e=>{const t=e.data();a.push(Object.assign({id:e.id},t))})),a})),t.default={addSong:t.addSong,getSongs:t.getSongs}}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={exports:{}};return n[e].call(i.exports,i,i.exports,r),i.exports}r.m=n,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>e+".bundle.js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="proyecto:",r.l=(n,o,i,a)=>{if(e[n])e[n].push(o);else{var d,s;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var c=u[l];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+i){d=c;break}}d||(s=!0,(d=document.createElement("script")).charset="utf-8",d.timeout=120,r.nc&&d.setAttribute("nonce",r.nc),d.setAttribute("data-webpack",t+i),d.src=n),e[n]=[o];var h=(t,o)=>{d.onerror=d.onload=null,clearTimeout(m);var r=e[n];if(delete e[n],d.parentNode&&d.parentNode.removeChild(d),r&&r.forEach((e=>e(o))),t)return t(o)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:d}),12e4);d.onerror=h.bind(null,d.onerror),d.onload=h.bind(null,d.onload),s&&document.head.appendChild(d)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={792:0};r.f.j=(t,n)=>{var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=i);var a=r.p+r.u(t),d=new Error;r.l(a,(n=>{if(r.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",d.name="ChunkLoadError",d.type=i,d.request=a,o[1](d)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,i,[a,d,s]=n,u=0;if(a.some((t=>0!==e[t]))){for(o in d)r.o(d,o)&&(r.m[o]=d[o]);s&&s(r)}for(t&&t(n);u<a.length;u++)i=a[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkproyecto=self.webpackChunkproyecto||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r(752)})();